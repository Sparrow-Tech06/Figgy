<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Puzzle Sprint Duels</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

<style>
:root{
  --bg:#0f1115;
  --card:#171a20;
  --card2:#1d2129;
  --text:#eaeaf0;
  --muted:#9aa0aa;
  --accent:#9b8cff;
}

body{
  background:var(--bg);
  color:var(--text);
  font-family:system-ui;
}

.app{
  max-width:660px;
  margin:auto;
  padding:14px;
}

a{text-decoration:none;color:inherit}

/* HEADER */
header{
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:14px;
}
.back{font-size:22px}

/* CARD */
.card-ui{
  background:var(--card2);
  border-radius:18px;
  padding:18px;
  margin-bottom:14px;
}

/* TIMER */
.timer{
  font-size:34px;
  font-weight:800;
  color:var(--accent);
}

/* OPTIONS */
.option{
  background:var(--card);
  border-radius:14px;
  padding:14px;
  margin-bottom:10px;
  cursor:pointer;
}
.option:hover{
  outline:2px solid #2a2f3c;
}

/* BUTTONS */
.btn-ui{
  background:var(--accent);
  color:#000;
  border:none;
  border-radius:16px;
  padding:14px;
  font-size:16px;
  font-weight:700;
  width:100%;
}
.btn-skip{
  background:transparent;
  border:1px solid #2a2f3c;
  color:var(--text);
}
.hidden{display:none}
</style>
</head>

<body>
<main class="app">

<header>
  <a href="index.html" class="back"><i class="bi bi-arrow-left"></i></a>
  <h1 class="fs-5 m-0">Puzzle Sprint</h1>
</header>

<!-- TOP INFO -->
<section class="card-ui d-flex justify-content-between text-center">
  <div>
    <div class="timer" id="timer">01:00</div>
    <small class="text-muted">Time</small>
  </div>
  <div>
    <div class="timer" id="score">0</div>
    <small class="text-muted">Score</small>
  </div>
</section>

<!-- QUESTION -->
<section class="card-ui hidden" id="gameBox">
  <h5 id="question" class="fw-bold mb-3"></h5>
  <div id="options"></div>
</section>

<!-- START / SKIP -->
<button class="btn-ui mb-2" id="startBtn">
  <i class="bi bi-play-fill"></i> Start Game
</button>

<button class="btn-ui btn-skip hidden" id="skipBtn">
  Skip Question
</button>

<!-- RESULT -->
<section class="card-ui hidden text-center" id="resultBox">
  <h3 class="fw-bold">Time's Up!</h3>
  <p class="text-muted">Your Final Score</p>
  <h1 class="timer" id="finalScore">0</h1>
  <a href="puzzle-sprint.html" class="btn-ui mt-3">Play Again</a>
</section>

</main>

<script>
// QUESTIONS
const questions = [
  {
    q:"Which number comes next? 2, 4, 8, ?",
    o:["10","12","16","18"],
    a:"16"
  },
  {
    q:"Find the odd one out",
    o:["Circle","Triangle","Square","Cube"],
    a:"Cube"
  },
  {
    q:"Which shape has 5 sides?",
    o:["Triangle","Pentagon","Hexagon","Square"],
    a:"Pentagon"
  },
  {
    q:"Complete the pattern: A, C, E, ?",
    o:["F","G","H","I"],
    a:"G"
  }
];

let time = 60;
let score = 0;
let timerInterval;
let currentQ = {};

// SHUFFLE
function shuffle(arr){
  return arr.sort(()=>Math.random()-0.5);
}

// LOAD QUESTION
function loadQuestion(){
  currentQ = questions[Math.floor(Math.random()*questions.length)];
  question.textContent = currentQ.q;
  options.innerHTML = '';
  shuffle([...currentQ.o]).forEach(opt=>{
    const div = document.createElement('div');
    div.className = 'option';
    div.textContent = opt;
    div.onclick = ()=>checkAnswer(opt);
    options.appendChild(div);
  });
}

// CHECK
function checkAnswer(ans){
  if(ans === currentQ.a){
    score++;
    document.getElementById('score').textContent = score;
  }
  loadQuestion();
}

// TIMER
function startTimer(){
  timerInterval = setInterval(()=>{
    time--;
    timer.textContent = `00:${time<10?'0':''}${time}`;
    if(time<=0){
      endGame();
    }
  },1000);
}

// START
startBtn.onclick = ()=>{
  startBtn.classList.add('hidden');
  skipBtn.classList.remove('hidden');
  gameBox.classList.remove('hidden');
  loadQuestion();
  startTimer();
};

// SKIP
skipBtn.onclick = loadQuestion;

// END
function endGame(){
  clearInterval(timerInterval);
  gameBox.classList.add('hidden');
  skipBtn.classList.add('hidden');
  resultBox.classList.remove('hidden');
  finalScore.textContent = score;
}
</script>

</body>
</html>
