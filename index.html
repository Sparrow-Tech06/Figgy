<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Brain Trainer</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

<style>
:root{
  --bg:#0f1115;
  --card:#171a20;
  --card2:#1d2129;
  --text:#eaeaf0;
  --muted:#9aa0aa;
  --puzzle:#9b8cff;
  --math:#ff9f1a;
}
body{
  background:var(--bg);
  color:var(--text);
  font-family:system-ui;
}
.app{
  max-width:660px;
  margin:auto;
  padding:12px;
}
a{color:inherit;text-decoration:none}

/* HEADER */
header{
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:14px;
}
.menu-btn{
  font-size:22px;
}
header h1{
  font-size:20px;
  font-weight:700;
}

/* SECTION TITLE */
.section-title{
  margin:14px 0 8px;
  font-size:12px;
  letter-spacing:2px;
  color:var(--muted);
}

/* HORIZONTAL SCROLL */
.h-scroll{
  display:flex;
  gap:12px;
  overflow-x:auto;
}

/* STATUS */
.status-box{
  min-width:140px;
  background:var(--card);
  border-radius:14px;
  padding:14px;
  font-weight:600;
  display:flex;
  align-items:center;
  gap:8px;
}

/* CHALLENGE */
.challenge-card{
  min-width:200px;
  background:var(--card2);
  border-radius:16px;
  padding:16px;
  font-weight:700;
  display:flex;
  justify-content:space-between;
}
.challenge-card.puzzle{color:var(--puzzle)}
.challenge-card.math{color:var(--math)}
.challenge-card.active{
  outline:2px solid #2b3140;
}

/* CONTENT */
.content{display:none;}
.content.active{display:block;}

/* SPRINT */
.sprint-card{
  background:var(--card2);
  border-radius:18px;
  padding:18px;
  display:flex;
  align-items:center;
  gap:14px;
}
.sprint-card img{
  width:90px;
}
</style>
</head>

<body>
<main class="app">

<!-- HEADER -->
<header>
  <i class="bi bi-list menu-btn"></i>
  <h1>Brain Trainer</h1>
</header>

<!-- STATUS SECTION -->
<section id="statusSection"></section>

<!-- TODAY CHALLENGE -->
<div class="section-title">TODAY'S CHALLENGE</div>
<section class="h-scroll" id="challengeContainer"></section>

<!-- PUZZLE -->
<section class="content active" id="puzzleContent">
  <a href="puzzle-sprint.html" class="sprint-card mt-3">
    <div>
      <small class="text-secondary">PUZZLE</small>
      <h2>SPRINT DUELS</h2>
      <p class="text-muted mb-0">Solve puzzles in 1 minute</p>
    </div>
    <img src="https://cdn-icons-png.flaticon.com/512/2103/2103652.png">
  </a>
</section>

<!-- MATH -->
<section class="content" id="mathContent">
  <a href="math-sprint.html" class="sprint-card mt-3">
    <div>
      <small class="text-secondary">MATH</small>
      <h2>SPRINT DUELS</h2>
      <p class="text-muted mb-0">Fast math in 60 seconds</p>
    </div>
    <img src="https://cdn-icons-png.flaticon.com/512/2896/2896418.png">
  </a>
</section>

</main>

<script>
// STATUS FETCH
fetch('data/status.json')
.then(r=>r.json())
.then(data=>{
  if(!data.length) return;
  const sec=document.getElementById('statusSection');
  sec.innerHTML='<div class="h-scroll"></div>';
  const row=sec.querySelector('.h-scroll');

  data.forEach(s=>{
    row.innerHTML+=`
      <a href="${s.link}" class="status-box">
        <i class="bi ${s.icon}"></i> ${s.title}
      </a>`;
  });
});

// CHALLENGE FETCH
fetch('data/challenges.json')
.then(r=>r.json())
.then(list=>{
  const box=document.getElementById('challengeContainer');
  const puzzle=document.getElementById('puzzleContent');
  const math=document.getElementById('mathContent');

  list.forEach((c,i)=>{
    const d=document.createElement('div');
    d.className=`challenge-card ${c.type} ${i==0?'active':''}`;
    d.innerHTML=`${c.title} <i class="bi bi-play-fill"></i>`;
    d.onclick=()=>{
      document.querySelectorAll('.challenge-card').forEach(x=>x.classList.remove('active'));
      d.classList.add('active');
      puzzle.classList.toggle('active',c.type==='puzzle');
      math.classList.toggle('active',c.type==='math');
    };
    box.appendChild(d);
  });
});
</script>

</body>
</html>
